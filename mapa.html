---
layout: layouts/layout.njk
title: Mapa
---
    

<div class="container-map">
  <div id="mapa"></div>
</div>

<script type="text/javascript">
  var stred = SMap.Coords.fromWGS84(14.43, 50.08);
  var mapa = new SMap(JAK.gel("mapa"), stred, 7);
  mapa.addDefaultLayer(SMap.DEF_BASE).enable();
  mapa.addDefaultControls();

  var layer = new SMap.Layer.Marker();
  mapa.addLayer(layer);
  layer.enable();

  {% for pribeh in collections.pribehy %}
  {
    let souradnice = SMap.Coords.fromWGS84({{pribeh.data.lon}}, {{pribeh.data.lat}});
    let card = new SMap.Card();
    card.getHeader().innerHTML = '<strong><a href="{{ pribeh.url }}" class="map-card__title">{{ pribeh.data.title }}</a></strong>';
    card.getBody().innerHTML = '<p class="map-card__text">{{ pribeh.data.popis }}</p>';

    let options = {
      title: "{{pribeh.data.nazev}}",
      url: "https://api.mapy.cz/img/api/marker/drop-red.png", // cesta k ikoně markeru
    };
    let marker = new SMap.Marker(souradnice, "{{ pribeh.data.nazev }}", options);
    marker.decorate(SMap.Marker.Feature.Card, card);
    layer.addMarker(marker);

    // Přidání třídy pro mobilní zobrazení
  if (window.innerWidth < 768) {
    card.setSize(150, 'auto');
    card.getHeader().classList.add('mobile-size');
    card.getBody().classList.add('mobile-size');
    card.getContainer().classList.add('card-container');
   }

  }
  {% endfor %}

  {% for kniha in collections.knihy %}
  {
    let souradnice = SMap.Coords.fromWGS84({{kniha.data.lon}}, {{kniha.data.lat}});
    let card2 = new SMap.Card();
    card2.getHeader().innerHTML = '<strong><a href="{{ kniha.url }}" class="map-card__title">{{ kniha.data.title }}</a></strong>';
    card2.getBody().innerHTML = '<p class="map-card__text">{{ kniha.data.popis }}</p>';

    let options2 = {
      title: "{{kniha.data.nazev}}",
      url: "https://api.mapy.cz/img/api/marker/drop-blue.png", // cesta k ikoně markeru
    };
    let marker2 = new SMap.Marker(souradnice, "{{ kniha.data.nazev }}", options2);
    marker2.decorate(SMap.Marker.Feature.Card, card2);
    layer.addMarker(marker2);

    // Přidání třídy pro mobilní zobrazení
  if (window.innerWidth < 768) {
    card2.setSize(150, 'auto');
    card2.getHeader().classList.add('mobile-size');
    card2.getBody().classList.add('mobile-size');
    card2.getContainer().classList.add('card-container');
   }

  }

  {% endfor %}

  {% for deskovka in collections.deskovky %}
  {
    let souradnice = SMap.Coords.fromWGS84({{deskovka.data.lon}}, {{deskovka.data.lat}});
    let card3 = new SMap.Card();
    card3.getHeader().innerHTML = '<strong><a href="{{ deskovka.url }}" class="map-card__title">{{ deskovka.data.title }}</a></strong>';
    card3.getBody().innerHTML = '<p class="map-card__text">{{ deskovka.data.popis }}</p>';

    let options3 = {
      title: "{{deskovka.data.nazev}}",
      url: "https://api.mapy.cz/img/api/marker/drop-yellow.png", // cesta k ikoně markeru
    };
    let marker3 = new SMap.Marker(souradnice, "{{ deskovka.data.nazev }}", options3);
    marker3.decorate(SMap.Marker.Feature.Card, card3);
    layer.addMarker(marker3);

    // Přidání třídy pro mobilní zobrazení
  if (window.innerWidth < 768) {
    card3.setSize(150, 'auto');
    card3.getHeader().classList.add('mobile-size');
    card3.getBody().classList.add('mobile-size');
    card3.getContainer().classList.add('card-container');
   }
  }
  
  {% endfor %}

</script>


